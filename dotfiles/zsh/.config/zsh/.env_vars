# Change this path if you move scripts repository
export full_scripts_path="$HOME/src/dotfiles"
export CODEPATH="$HOME/src"

# Setting the default text editor to vim
export VISUAL="$(command -v nvim)"
export EDITOR="$(command -v nvim)"

# Path additions
export PATH="$PATH:$HOME/.local/bin"

# Set Git editor to Cursor/VSCode only when in the integrated terminal
if [[ "$TERM_PROGRAM" == "vscode" ]]; then
  if command -v cursor >/dev/null; then
    export GIT_EDITOR="cursor --wait"
  elif command -v code >/dev/null; then
    export GIT_EDITOR="code --wait"
  fi
fi

# set git editor to vim if not in the integrated terminal
if [[ "$TERM_PROGRAM" != "vscode" ]]; then
  export GIT_EDITOR="nvim"
fi

export BAT_THEME="Catppuccin Mocha"
export BAT_PAGER="less -FRX"

export TMUX_AUTO_ATTACH=true
export SHELL="$(command -v zsh)"

# Configure fzf based on tmux version
# tmux 3.2+ supports display-popup, so we can use tmux integration
# tmux < 3.2 doesn't support it, so we disable tmux integration
if command -v tmux &> /dev/null; then
  tmux_version=$(tmux -V 2>/dev/null | grep -oE '[0-9]+\.[0-9]+')
  major=$(echo $tmux_version | cut -d. -f1)
  minor=$(echo $tmux_version | cut -d. -f2)
  if (( major > 3 || (major == 3 && minor > 2) )); then
    export FZF_DEFAULT_OPTS='--height 40% --tmux center,40%'
  else
    # Disable fzf's automatic tmux integration (tmux 3.1 doesn't support display-popup)
    # This makes fzf run in the current pane instead of trying to use tmux popups
    export FZF_TMUX=0
    export TMUX_FZF_OPTIONS="--no-popup"
  fi
fi